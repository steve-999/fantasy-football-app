(this.webpackJsonpui=this.webpackJsonpui||[]).push([[0],{188:function(e,t,a){},189:function(e,t,a){},190:function(e,t,a){},191:function(e,t,a){},192:function(e,t,a){},193:function(e,t,a){},194:function(e,t,a){},195:function(e,t,a){"use strict";a.r(t);var s=a(1),n=a.n(s),r=a(40),i=a.n(r),c=(a(79),a(22)),o=a(4),l=a(7),_=a(8),d=a(56),u=a(2),p="LOADING_PLAYERS",m="ADD_PLAYERS",h="LOADING_FIXTURE_DIFFICULTY",f="ADD_FIXTURE_DIFFICULTY",y="LOADING_FIXTURE_LIST",b="ADD_FIXTURE_LIST",g="LOADING_TEAM_IDS",j="ADD_TEAM_IDS",v="LOADING_TEAMS_STATS",x="ADD_TEAMS_STATS",O="LOADING_TEAM_FIXTURE_LIST",w="ADD_TEAM_FIXTURE_LIST",k="LOADING_SQUAD_FOR_MANAGER_ID",D="ADD_SQUAD_FOR_MANAGER_ID",S="LOADING_MANAGER_CURR_SEASON",N="ADD_MANAGER_CURR_SEASON",A="LOADING_PLAYER_SEASON_STATS",P="ADD_PLAYER_SEASON_STATS",G="LOADING_PLAYER_GW_STATS",F="ADD_PLAYER_GW_STATS",T="LOADING_LEAGUE_INFO",C="ADD_LEAGUE_INFO",E="LOADING_LEAGUE_POINTS_FOR_GW",K="ADD_LEAGUE_POINTS_FOR_GW",L="LOADING_LIVE_DATA",q="ADD_LIVE_DATA",R="LOADING_SQUADS_FOR_LEAGUE_ID",I="ADD_SQUADS_FOR_LEAGUE_ID",M="LOADING_CURR_GW",W="ADD_CURR_GW",B="TOGGLE_SHOW_PLAYERS_FORM",U="SET_SHOW_PLAYERS_FORM_VAL",H={loading_players:!1,players_data:[],loading_fixture_difficulty:!1,fixture_difficulty_data:[],loading_fixture_list:!1,fixture_list_data:[],loading_team_ids:!1,team_ids_data:[],loading_teams_stats:!1,teams_stats:void 0,loading_text_fixture_list:!1,team_fixture_list:void 0,loading_squad_for_manager_id:!1,squad_for_manager_id_data:[],loading_manager_curr_season:!1,manager_curr_season_data:[],loading_player_season_stats:!1,player_season_stats_data:void 0,loading_player_gw_stats:!1,player_gw_stats_data:void 0,loading_league_info:!1,league_info_data:void 0,loading_league_points_for_gw:!1,league_points_for_gw_data:void 0,loading_live_data:!1,live_data:void 0,loading_squads_for_league_id:!1,squads_for_league_id_data:void 0,loading_curr_gw:!1,curr_gw:void 0,show_players_form:!1},J=a(73),Y=Object(d.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return Object(u.a)(Object(u.a)({},e),{},{loading_players:!0});case m:return Object(u.a)(Object(u.a)({},e),{},{loading_players:!1,players_data:t.payload});case h:return Object(u.a)(Object(u.a)({},e),{},{loading_fixture_difficulty:!0});case f:return Object(u.a)(Object(u.a)({},e),{},{loading_fixture_difficulty:!1,fixture_difficulty_data:t.payload});case y:return Object(u.a)(Object(u.a)({},e),{},{loading_fixture_list:!0});case b:return Object(u.a)(Object(u.a)({},e),{},{loading_fixture_list:!1,fixture_list_data:t.payload});case g:return Object(u.a)(Object(u.a)({},e),{},{loading_team_ids:!0});case j:return Object(u.a)(Object(u.a)({},e),{},{loading_team_ids:!1,team_ids_data:t.payload});case v:return Object(u.a)(Object(u.a)({},e),{},{loading_teams_stats:!0});case x:return Object(u.a)(Object(u.a)({},e),{},{loading_teams_stats:!1,teams_stats:t.payload});case O:return Object(u.a)(Object(u.a)({},e),{},{loading_team_fixture_list:!0});case w:return Object(u.a)(Object(u.a)({},e),{},{loading_team_fixture_list:!1,team_fixture_list:t.payload});case k:return Object(u.a)(Object(u.a)({},e),{},{loading_squad_for_manager_id:!0});case D:return Object(u.a)(Object(u.a)({},e),{},{loading_squad_for_manager_id:!1,squad_for_manager_id_data:t.payload});case S:return Object(u.a)(Object(u.a)({},e),{},{loading_manager_curr_season:!0});case N:return Object(u.a)(Object(u.a)({},e),{},{loading_manager_curr_season:!1,manager_curr_season_data:t.payload});case A:return Object(u.a)(Object(u.a)({},e),{},{loading_player_season_stats:!0});case P:return Object(u.a)(Object(u.a)({},e),{},{loading_player_season_stats:!1,player_season_stats_data:t.payload});case G:return Object(u.a)(Object(u.a)({},e),{},{loading_player_gw_stats:!0});case F:return Object(u.a)(Object(u.a)({},e),{},{loading_player_gw_stats:!1,player_gw_stats_data:t.payload});case T:return Object(u.a)(Object(u.a)({},e),{},{loading_league_info:!0});case C:return Object(u.a)(Object(u.a)({},e),{},{loading_league_info:!1,league_info_data:t.payload});case E:return Object(u.a)(Object(u.a)({},e),{},{loading_league_points_for_gw:!0});case K:return Object(u.a)(Object(u.a)({},e),{},{loading_league_points_for_gw:!1,league_points_for_gw_data:t.payload});case L:return Object(u.a)(Object(u.a)({},e),{},{loading_live_data:!0});case q:return Object(u.a)(Object(u.a)({},e),{},{loading_live_data:!1,live_data:t.payload});case R:return Object(u.a)(Object(u.a)({},e),{},{loading_squads_for_league_id:!0});case I:return Object(u.a)(Object(u.a)({},e),{},{loading_squads_for_league_id:!1,squads_for_league_id_data:t.payload});case M:return Object(u.a)(Object(u.a)({},e),{},{loading_curr_gw:!0});case W:return Object(u.a)(Object(u.a)({},e),{},{loading_curr_gw:!1,curr_gw:t.payload});case B:return Object(u.a)(Object(u.a)({},e),{},{show_players_form:!e.show_players_form});case U:return Object(u.a)(Object(u.a)({},e),{},{show_players_form:t.payload});default:return e}}),Object(d.a)(J.a)),X=a(5),V=a.n(X),z=a(9),Q="https://fantasy-football-app-r383r.ondigitalocean.app/api",Z=function(){return function(){var e=Object(z.a)(V.a.mark((function e(t){var a,s,n;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:g}),a="".concat(Q,"/team_ids/"),e.prev=2,e.next=5,fetch(a);case 5:return s=e.sent,e.next=8,s.json();case 8:n=e.sent,t({type:j,payload:n}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),console.log("Error:",e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}()},$=function(){return function(){var e=Object(z.a)(V.a.mark((function e(t){var a,s,n;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:M}),a="".concat(Q,"/current_gw"),e.prev=2,e.next=5,fetch(a);case 5:return s=e.sent,e.next=8,s.json();case 8:n=e.sent,t({type:W,payload:n.curr_gw}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),console.log("Error:",e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}()},ee=function(e){return{type:U,payload:e}},te=a(31),ae=a(32),se=(a(86),a(0)),ne=Object(l.g)((function(e){var t=Object(_.d)((function(e){return e.show_players_form})),a=Object(_.c)(),s="Players",n=!1,r=e.location.pathname;r.match(/^\/players(\/)?$/)?(s="Players",n=window.innerWidth<575):r.includes("leagues")?s="Leagues":r.includes("teams")?s="Teams":r.includes("fixtures")?s="Fixtures":r.includes("glossary")&&(s="Glossary");return Object(se.jsxs)("nav",{className:"nav-container",children:[Object(se.jsx)(o.b,{to:"/",className:"logo",children:"MERN Stack Fantasy Football App"}),Object(se.jsxs)("ul",{className:"nav-ul",children:[Object(se.jsx)("li",{className:"nav-li ".concat("Players"===s?" active-tab":""),children:Object(se.jsx)(o.c,{to:"/players",activeClassName:"active-class",children:"Players"})}),Object(se.jsx)("li",{className:"nav-li ".concat("Leagues"===s?" active-tab":""),children:Object(se.jsx)(o.c,{to:"/leagues/".concat("1230538"),activeClassName:"active-class",children:"Leagues"})}),Object(se.jsx)("li",{className:"nav-li ".concat("Teams"===s?" active-tab":""),children:Object(se.jsx)(o.c,{to:"/teams",activeClassName:"active-class",children:"PL"})}),Object(se.jsx)("li",{className:"nav-li ".concat("Fixtures"===s?" active-tab":""),children:Object(se.jsx)(o.c,{to:"/fixtures",activeClassName:"active-class",children:"Fixtures"})})]}),Object(se.jsx)(te.a,{className:"menu-hamburger",icon:ae.a,onClick:function(){var e=document.querySelector(".players-form-container");t&&e?(e.classList.remove("animation-slide-in"),e.classList.add("animation-slide-out")):(e.classList.remove("animation-slide-out"),e.classList.add("animation-slide-in")),a({type:B})},style:{display:n?"inline":"none"}}),Object(se.jsx)(o.b,{to:"/glossary",children:Object(se.jsx)(te.a,{className:"help-button",icon:ae.b})})]})}));a(89);var re=function(){return Object(se.jsx)("footer",{className:"page-footer",children:Object(se.jsx)("div",{children:"\xa9 2021 MERN Stack Fantasy Football App"})})},ie=a(14),ce=a(10),oe=a(11),le=a(17),_e=a(13),de=a(12),ue=(a(90),["25","50","100","200","All"]),pe=function(e){Object(_e.a)(a,e);var t=Object(de.a)(a);function a(e){var s;return Object(ce.a)(this,a),(s=t.call(this,e)).state={selectedTeam:e.selectedTeam,selectedPosition:e.selectedTeam,topPlayersCheckboxChecked:!0,numTopPlayers:e.initialNumTopPlayers,sortByKey:e.sortByKey},s.handleClickTeam=s.handleClickTeam.bind(Object(le.a)(s)),s.handleClickPosition=s.handleClickPosition.bind(Object(le.a)(s)),s.handleTopPlayersSelectChange=s.handleTopPlayersSelectChange.bind(Object(le.a)(s)),s}return Object(oe.a)(a,[{key:"componentDidMount",value:function(){this.setState({selectedTeam:this.props.selectedTeam,selectedPosition:this.props.selectedTeam})}},{key:"componentDidUpdate",value:function(e){e.selectedTeam===this.props.selectedTeam&&e.selectedPosition===this.props.selectedPosition&&e.sortByKey===this.props.sortByKey||this.setState({selectedTeam:this.props.selectedTeam,selectedPosition:this.props.selectedPosition,sortByKey:this.props.sortByKey})}},{key:"handleClickTeam",value:function(e){this.dismissPlayersForm(),this.setState({selectedTeam:e.target.innerText})}},{key:"handleClickPosition",value:function(e){this.dismissPlayersForm(),this.setState({selectedPosition:e.target.innerText})}},{key:"handleTopPlayersSelectChange",value:function(e){var t=this;this.setState({numTopPlayers:e.target.value},(function(){t.dismissPlayersForm();var e=t.create_query_string(null,null);t.props.history.push("/players?".concat(e))}))}},{key:"dismissPlayersForm",value:function(){var e=this.props.playersFormRef.current;this.props.show_players_form&&(e.classList="".concat(e.classList.value.replace("animation-slide-in","")," animation-slide-out")),this.props.set_show_players_form_val(!1)}},{key:"create_query_string",value:function(e,t){var a="position=".concat("position"===e?t:this.state.selectedPosition),s="team=".concat("team"===e?t.replace(" ","_"):this.state.selectedTeam.replace(" ","_")),n="num_top_rank=".concat(this.state.topPlayersCheckboxChecked?this.state.numTopPlayers:-1),r="sortByKey=".concat(this.state.sortByKey);return"&".concat(a,"&").concat(s,"&").concat(n,"&").concat(r)}},{key:"get_positions_JSX",value:function(){var e=this,t=["All","GK","DEF","MID","FWD"].map((function(t){var a=t===e.state.selectedPosition?"crimson":"DarkSlateBlue";return Object(se.jsx)("li",{className:"positions-li",name:t,onClick:e.handleClickPosition,style:{backgroundColor:a},children:Object(se.jsx)(o.c,{to:"/players?".concat(e.create_query_string("position",t)),children:t})},t)}));return Object(se.jsx)("ul",{className:"positions-ul",children:t})}},{key:"get_teams_JSX",value:function(){var e=this,t=["All"].concat(Object(ie.a)(this.props.teams)).map((function(t){var a=t===e.state.selectedTeam?"crimson":"DarkSlateBlue";return Object(se.jsx)("li",{className:"teams-li",name:t,onClick:e.handleClickTeam,style:{backgroundColor:a},children:Object(se.jsx)(o.c,{to:"/players?".concat(e.create_query_string("team",t)),children:t})},t)}));return Object(se.jsx)("ul",{className:"teams-ul",children:t})}},{key:"render",value:function(){return Object(se.jsxs)("form",{className:"players-form",children:[Object(se.jsx)("label",{htmlFor:"select-position",children:"Position"}),Object(se.jsx)("div",{className:"positions-list-container",children:this.get_positions_JSX()}),Object(se.jsx)("label",{htmlFor:"select-teams",children:"Team"}),Object(se.jsx)("div",{className:"teams-list-container",children:this.get_teams_JSX()}),Object(se.jsx)("div",{className:"num-top-players-table",children:Object(se.jsxs)("div",{className:"textbox-top-players-row",children:[Object(se.jsx)("span",{className:"num-top-players-1st-col",children:Object(se.jsx)("label",{className:"label-num-top-players",htmlFor:"textbox-num-top-players",children:"Top ranked:"})}),Object(se.jsx)("span",{className:"num-top-players-2nd-col",children:Object(se.jsx)("select",{className:"num-top-players-select",name:"num-top-players-select",onChange:this.handleTopPlayersSelectChange,disabled:!this.state.topPlayersCheckboxChecked,defaultValue:"50",children:ue.map((function(e){switch(e){case"50":return Object(se.jsx)("option",{value:e,children:e},e);case"All":return Object(se.jsx)("option",{value:"9999",children:e},e);default:return Object(se.jsx)("option",{value:e,children:e},e)}}))})})]})})]})}}]),a}(s.Component),me=Object(l.g)(Object(_.b)((function(e){return{show_players_form:e.show_players_form}}),(function(e){return{set_show_players_form_val:function(t){return e(ee(t))}}}))(pe));function he(e,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=Object(ie.a)(e);return a?s.sort((function(e,a){return e[t]<a[t]?-1:e[t]>a[t]?1:0})):s.sort((function(e,a){return e[t]>a[t]?-1:e[t]<a[t]?1:0})),s}function fe(e,t){var a,s=arguments,n=this;return function(){clearTimeout(a),a=setTimeout((function(){a=null,e.apply(n,s)}),t)}}a(91);var ye=[{displayName:"rank",arrayKey:"rank",type:"int",sortDirection:"asc"},{displayName:"player",arrayKey:"web_name",type:"string",sortDirection:"asc"},{displayName:"team",arrayKey:"team_name",type:"string",sortDirection:"asc"},{displayName:"pos",arrayKey:"position",type:"string",sortDirection:"asc"},{displayName:"price",arrayKey:"price",type:"float",sortDirection:"desc"},{displayName:"points",arrayKey:"total_points",type:"int",sortDirection:"desc"},{displayName:"G",arrayKey:"goals_scored",type:"int",sortDirection:"desc"},{displayName:"A",arrayKey:"assists",type:"int",sortDirection:"desc"},{displayName:"CS",arrayKey:"clean_sheets",type:"int",sortDirection:"desc"},{displayName:"GC",arrayKey:"goals_conceded",type:"int",sortDirection:"desc"},{displayName:"bonus",arrayKey:"bonus",type:"int",sortDirection:"desc"},{displayName:"form pts",arrayKey:"form_pts",type:"string",sortDirection:"desc"},{displayName:"ma(Pts,L)",arrayKey:"pts_ma_L",type:"float",sortDirection:"desc"},{displayName:"ma(Pts,S)",arrayKey:"pts_ma_S",type:"float",sortDirection:"desc"},{displayName:"difficulty",arrayKey:"difficulty",type:"string",sortDirection:"desc"},{displayName:"form mins",arrayKey:"form_mins",type:"string",sortDirection:"desc"},{displayName:"mins",arrayKey:"minutes",type:"int",sortDirection:"desc"}],be=[{max_width:350,cols:["form_pts","form_mins","difficulty","pts_ma_S","minutes","bonus","goals_conceded","clean_sheets","pts_ma_L"]},{max_width:370,cols:["form_pts","form_mins","difficulty","pts_ma_S","minutes","bonus","goals_conceded","clean_sheets"]},{max_width:395,cols:["form_pts","form_mins","difficulty","pts_ma_S","minutes","bonus","goals_conceded"]},{max_width:440,cols:["form_pts","form_mins","difficulty","pts_ma_S","minutes","bonus"]},{max_width:470,cols:["form_pts","form_mins","difficulty","pts_ma_S","minutes"]},{max_width:575,cols:["form_pts","form_mins","difficulty","pts_ma_S"]},{max_width:650,cols:["form_pts","form_mins","difficulty","pts_ma_S","minutes"]},{max_width:710,cols:["form_pts","form_mins","difficulty","pts_ma_S"]},{max_width:810,cols:["form_pts","form_mins","difficulty"]},{max_width:1250,cols:["form_pts","form_mins"]},{max_width:99999,cols:[]}];function ge(e,t){var a=window.innerWidth,s=t.find((function(e){return e.max_width>a})).cols;return e.filter((function(e){return!s.includes(e.arrayKey)}))}var je=function(e){Object(_e.a)(a,e);var t=Object(de.a)(a);function a(e){var s;return Object(ce.a)(this,a),(s=t.call(this,e)).handleResize=function(){if(s._ismounted){var e=ge(ye,be);s.setState({window_width:window.innerWidth,filtered_keys_list:e}),s.props.set_show_players_form_val(!1)}},s.handleAnimationEnd=function(e){e.target.classList.remove("animation-slide-out")},s.handleClosePlayersFormClick=function(e){var t=s.playersFormContainer_ref.current;t.classList.value.includes("animation-slide-in")&&(t.classList.remove("animation-slide-in"),t.classList.add("animation-slide-out"),s.props.set_show_players_form_val(!1))},s.state={players:[],filteredPlayers:[],teams:[],sortByKey:"total_points",selectedTeam:"All",selectedPosition:"All",topPlayersCheckboxChecked:!0,numTopPlayers:50,filtered_keys_list:void 0,window_width:void 0},s.handleHeadingClick=s.handleHeadingClick.bind(Object(le.a)(s)),s.getDefaultSortDirection=s.getDefaultSortDirection.bind(Object(le.a)(s)),s.filter_and_sort_players_table=s.filter_and_sort_players_table.bind(Object(le.a)(s)),s.handleQueryParams=s.handleQueryParams.bind(Object(le.a)(s)),s.playersFormContainer_ref=n.a.createRef(),s}return Object(oe.a)(a,[{key:"componentDidMount",value:function(){document.title="Fantasy Football Stats | Players Statistics",this._ismounted=!0,this.handleQueryParams(),this.props.fetchPlayers(25),this.props.fetchPlayers();var e=ge(ye,be);if(window.addEventListener("resize",fe(this.handleResize,50)),this.props.teams){var t=this.props.teams.map((function(e){return e.name})),a={};this.props.teams.forEach((function(e){return a[e.name]=e.short_name})),this.setState({teams:t,short_team_name_lookup:a,filtered_keys_list:e})}}},{key:"componentDidUpdate",value:function(e){if(e.location.search!==this.props.location.search&&this.handleQueryParams(),e.players_data!==this.props.players_data&&this.processPlayersData(this.props.players_data),this.props.teams&&e.teams!==this.props.teams){var t=this.props.teams.map((function(e){return e.name})),a={};this.props.teams.forEach((function(e){return a[e.name]=e.short_name})),this.setState({teams:t,short_team_name_lookup:a})}}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",fe(this.handleResize,50)),this._ismounted=!1}},{key:"processPlayersData",value:function(e){var t=this,a=e.map((function(e){for(var t=Object(u.a)({},e),a=0;a<ye.length;a++){var s=ye[a].arrayKey;"int"===ye[a].type?t[s]=parseInt(e[s]):"float"===ye[a].type&&(t[s]=parseFloat(e[s])),s.includes("ppm")&&(t[s]=parseFloat(e[s]).toFixed(4))}return t}));this.setState({players:a,filteredPlayers:a},(function(){t.filter_and_sort_players_table()}))}},{key:"handleQueryParams",value:function(){var e=this,t=function(e){var t=e.slice(1).split("&"),a={};return t.forEach((function(e){var t=e.split("=");t[0]&&(a[t[0]]=t[1])})),a}(this.props.location.search),a={};a.sortByKey="sortByKey"in t?t.sortByKey:"total_points",a.selectedTeam="team"in t?t.team.replace("_"," "):"All",a.selectedPosition="position"in t?t.position:"All",a.topPlayersCheckboxChecked=!("num_top_rank"in t&&t.num_top_rank<0),a.numTopPlayers="num_top_rank"in t?t.num_top_rank:50,this.setState({sortByKey:a.sortByKey,selectedTeam:a.selectedTeam,selectedPosition:a.selectedPosition,topPlayersCheckboxChecked:a.topPlayersCheckboxChecked,numTopPlayers:a.numTopPlayers},(function(){e.filter_and_sort_players_table()}))}},{key:"create_query_string",value:function(e){var t=this.state.selectedPosition,a=this.state.selectedTeam.replace(" ","_"),s=this.state.topPlayersCheckboxChecked?this.state.numTopPlayers:-1;return"&position=".concat(t,"&team=").concat(a,"&num_top_rank=").concat(s,"&sortByKey=").concat(e)}},{key:"handleHeadingClick",value:function(e){var t=this;e.preventDefault();var a=e.target.dataset.arraykey,s="/players?".concat(this.create_query_string(a));window.history.replaceState(null,"",s),this.setState({sortByKey:a},(function(){t.filter_and_sort_players_table()}))}},{key:"getDefaultSortDirection",value:function(e){return ye.find((function(t){return t.arrayKey===e})).sortDirection}},{key:"filter_and_sort_players_table",value:function(){var e=this;if(["players","sortByKey"].every((function(t){return e.state[t]}))){var t=Object(ie.a)(this.state.players);"All"!==this.state.selectedTeam&&(t=t.filter((function(t){return t.team_name===e.state.selectedTeam}))),"All"!==this.state.selectedPosition&&(t=t.filter((function(t){return t.position===e.state.selectedPosition})));var a=this.state.sortByKey;t=he(t,a,"asc"===this.getDefaultSortDirection(a)),this.setState({filteredPlayers:Object(ie.a)(t)},(function(){return e.forceUpdate()}))}}},{key:"getPlayersTableHeadingsRow",value:function(){var e=this;return this.state.filtered_keys_list?this.state.filtered_keys_list.map((function(t){return Object(se.jsx)("th",{className:e.state.sortByKey===t.arrayKey?"sortByKey":"normalHeadingCell","data-arraykey":t.arrayKey,onClick:e.handleHeadingClick,children:t.displayName},t.displayName)})):null}},{key:"getPlayersTableRow",value:function(e,t){var a=this;return this.state.filtered_keys_list?this.state.filtered_keys_list.map((function(s){var n;return n="rank"===s.arrayKey?t:e[s.arrayKey],"web_name"===s.arrayKey?(n=Object(se.jsx)(o.b,{to:"/players/".concat(e.web_name_id.replace(" ","_")),children:e.web_name}),Object(se.jsx)("td",{className:"bold-td",children:n},s.arrayKey)):"team_name"===s.arrayKey?(n=Object(se.jsx)(o.b,{to:"/teams/".concat(e.team_name.replace(" ","_")),children:a.state.short_team_name_lookup[e.team_name]}),Object(se.jsx)("td",{className:"bold-td short-team-name",children:n},s.arrayKey)):Object(se.jsx)("td",{children:n},s.arrayKey)})):null}},{key:"createPlayersTableRows",value:function(){var e=this,t=this.state.topPlayersCheckboxChecked?this.state.numTopPlayers:this.state.players.length;return this.state.filteredPlayers.slice(0,t).map((function(t,a){return Object(se.jsx)("tr",{children:e.getPlayersTableRow(t,a+1)},a)}))}},{key:"render",value:function(){return Object(se.jsxs)("div",{className:"players-page-container",onClick:this.handleClosePlayersFormClick,children:[Object(se.jsx)("div",{className:"players-form-container",onAnimationEnd:this.handleAnimationEnd,ref:this.playersFormContainer_ref,children:Object(se.jsx)(me,{teams:this.state.teams,selectedTeam:this.state.selectedTeam,selectedPosition:this.state.selectedPosition,updateFormState:this.updateFormState,initialNumTopPlayers:50,sortByKey:this.state.sortByKey,playersFormRef:this.playersFormContainer_ref})}),Object(se.jsx)("div",{className:"players-table-container",children:Object(se.jsxs)("table",{className:"styled-table",children:[Object(se.jsx)("thead",{children:Object(se.jsx)("tr",{children:this.getPlayersTableHeadingsRow()})}),Object(se.jsx)("tbody",{children:this.state.short_team_name_lookup&&this.createPlayersTableRows()})]})})]})}}]),a}(s.Component),ve=Object(_.b)((function(e){return{players_data:e.players_data,teams:e.team_ids_data,show_players_form:e.show_players_form}}),(function(e){return{fetchPlayers:function(t){return e(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:9999;return function(){var t=Object(z.a)(V.a.mark((function t(a){var s,n,r;return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:p}),s="".concat(Q,"/players/num_players=").concat(e),t.prev=2,t.next=5,fetch(s);case 5:return n=t.sent,t.next=8,n.json();case 8:r=t.sent,a({type:m,payload:r}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(2),console.log("Error:",t.t0);case 15:case"end":return t.stop()}}),t,null,[[2,12]])})));return function(e){return t.apply(this,arguments)}}()}(t))},set_show_players_form_val:function(t){return e(ee(t))}}}))(je);a(92),a(93);var xe=function(e){if(!e.stats_values)return null;var t=e.stats_values,a=e.pts_contrib,s=e.pts_contrib_pct,n=function(e){var t=[{max_width:430,cols:["penalties_missed","penalties_saved","pts/90min","red_cards","saves","own_goals"]},{max_width:575,cols:["penalties_missed","penalties_saved","pts/90min"]},{max_width:650,cols:["penalties_missed","penalties_saved"]},{max_width:800,cols:["penalties_missed"]},{max_width:99999,cols:[]}].find((function(e){return e.max_width>window.innerWidth})).cols;return e.filter((function(e){return!t.includes(e.key)}))}(e.season_stats_info_keys),r=n.map((function(e){return Object(se.jsx)("th",{children:e.heading_text},e.heading_text)})),i=n.map((function(e){return Object(se.jsx)("td",{children:t[e.key]},e.key)})),c=n.map((function(e){return Object(se.jsx)("td",{children:a[e.key]},e.key)})),o=n.map((function(e){return Object(se.jsx)("td",{children:s[e.key]},e.key)}));return Object(se.jsxs)("table",{className:"player-stats-table styled-table",children:[Object(se.jsx)("thead",{children:Object(se.jsxs)("tr",{children:[Object(se.jsx)("th",{children:"\xa0"}),r]})}),Object(se.jsxs)("tbody",{children:[Object(se.jsxs)("tr",{children:[Object(se.jsx)("td",{children:"Stats"}),i]}),Object(se.jsxs)("tr",{children:[Object(se.jsx)("td",{children:"Points"}),c]}),Object(se.jsxs)("tr",{children:[Object(se.jsx)("td",{children:"%"}),o]})]})]})},Oe=a(25),we=function(e){var t=Object(s.useState)(),a=Object(c.a)(t,2),n=a[0],r=a[1];return Object(s.useEffect)((function(){e&&function(e){var t=e.gw_data,a=e.Nma,s=e.var_name;if(!t||!a||!s)return null;var n=t.map((function(e){return e.round})),i=t.map((function(e){return e.total_points})),c=function(e,t){var a=new Array(e.length).fill(0),s=2/(t+1);a[0]=e[0];for(var n=1;n<e.length;n++)a[n]=s*e[n]+(1-s)*a[n-1];return a}(i,a);c=c.map((function(e){return parseFloat(e.toFixed(2))}));var o={labels:n,datasets:[{label:e.var_name,data:c,borderColor:"#8c83c9",fill:!1,borderWidth:2,pointStyle:"rect",pointBackgroundColor:"#8c83c9"},{label:"Points",data:i,borderColor:"tomato",fill:!1,borderWidth:2,pointStyle:"cross",showLine:!1}]};r(o)}(e)}),[e]),Object(se.jsx)("div",{children:n&&Object(se.jsx)(Oe.Line,{data:n,width:320,height:320,redraw:!1,options:{title:{display:!1,text:e.Nma,fontSize:25},legend:{display:!0,position:"top"},showLines:!0,animation:{duration:500,easing:"linear"}}})})},ke=function(e){var t=e.pts_contrib;if(!t)return null;for(var a=[],s=0,n=Object.keys(t);s<n.length;s++){var r=n[s];if("total_points"!==r&&Math.abs(t[r])>2){var i={};i.label=r.replace("_"," "),i.value=t[r],a.push(i)}}var c={data:{labels:(a=he(a,"value",!1)).map((function(e){return e.label})),datasets:[{label:"Points contribution",data:a.map((function(e){return Math.abs(e.value)})),backgroundColor:["rgba(255, 99, 132, 0.7)","rgba(255, 159, 64, 0.7)","rgba(255, 205, 86, 0.7)","rgba(75, 192, 192, 0.7)","rgba(54, 162, 235, 0.7)","rgba(153, 102, 255, 0.7)","rgba(201, 203, 207, 0.7)"],borderColor:["rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(54, 162, 235)","rgb(153, 102, 255)","rgb(201, 203, 207)"],borderWidth:1}]},options:{scales:{yAxes:[{ticks:{beginAtZero:!0,min:0}}]},title:{display:!0,text:"Points",fontSize:16,fontColor:"#333",fontWeight:"bold"},legend:{display:!1},maintainAspectRatio:!1}};return Object(se.jsx)("div",{children:Object(se.jsx)(Oe.Bar,{data:c.data,width:600,height:300,redraw:!1,options:c.options})})},De=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Se=[{key:"total_points",heading_text:"Pts"},{key:"minutes",heading_text:"Mins"},{key:"goals_scored",heading_text:"G"},{key:"assists",heading_text:"A"},{key:"clean_sheets",heading_text:"CS"},{key:"goals_conceded",heading_text:"GC"},{key:"bonus",heading_text:"bonus"},{key:"yellow_cards",heading_text:"YC"},{key:"red_cards",heading_text:"RC"},{key:"saves",heading_text:"saves"},{key:"penalties_saved",heading_text:"pens saved"},{key:"penalties_missed",heading_text:"pens missed"},{key:"own_goals",heading_text:"OG"},{key:"mins/(G + A)",heading_text:"mins/(G+A)"},{key:"pts/90min",heading_text:"pts/90min"}],Ne=Se.map((function(e){return e.key})),Ae=Se.map((function(e){return e.heading_text})),Pe=[{displayName:"Date",arrayKey:"datetime",type:"string",sortDirection:"asc"},{displayName:"GW",arrayKey:"round",type:"int",sortDirection:"asc"},{displayName:"Opposition",arrayKey:"opposition",type:"string",sortDirection:"asc"},{displayName:"H/A",arrayKey:"home_away",type:"string",sortDirection:"asc"},{displayName:"GF",arrayKey:"GF",type:"int",sortDirection:"asc"},{displayName:"GA",arrayKey:"GA",type:"int",sortDirection:"asc"},{displayName:"Mins",arrayKey:"minutes",type:"int",sortDirection:"asc"},{displayName:"Pts",arrayKey:"total_points",type:"int",sortDirection:"asc"},{displayName:"G",arrayKey:"goals_scored",type:"int",sortDirection:"asc"},{displayName:"A",arrayKey:"assists",type:"int",sortDirection:"asc"},{displayName:"CS",arrayKey:"clean_sheets",type:"int",sortDirection:"asc"},{displayName:"GC",arrayKey:"goals_conceded",type:"int",sortDirection:"asc"},{displayName:"OG",arrayKey:"own_goals",type:"int",sortDirection:"asc"},{displayName:"YC",arrayKey:"yellow_cards",type:"int",sortDirection:"asc"},{displayName:"RC",arrayKey:"red_cards",type:"int",sortDirection:"asc"},{displayName:"Bonus",arrayKey:"bonus",type:"int",sortDirection:"asc"},{displayName:"Saves",arrayKey:"saves",type:"int",sortDirection:"asc"},{displayName:"ma(Pts,L)",arrayKey:"pts_ma_L",type:"float",sortDirection:"asc"},{displayName:"ma(Pts,S)",arrayKey:"pts_ma_S",type:"float",sortDirection:"asc"},{displayName:"Transfers (k)",arrayKey:"transfers_balance",type:"int",sortDirection:"asc"},{displayName:"Price",arrayKey:"value",type:"int",sortDirection:"asc"}],Ge=[{max_width:450,cols:["transfers_balance","own_goals","saves","yellow_cards","red_cards","pts_ma_S","pts_ma_L","goals_conceded","value"]},{max_width:500,cols:["transfers_balance","own_goals","saves","yellow_cards","red_cards","pts_ma_S","pts_ma_L","goals_conceded"]},{max_width:560,cols:["transfers_balance","own_goals","saves","yellow_cards","red_cards","pts_ma_S","pts_ma_L"]},{max_width:700,cols:["transfers_balance","own_goals","saves","yellow_cards","red_cards","pts_ma_S"]},{max_width:840,cols:["transfers_balance","own_goals","saves"]},{max_width:99999,cols:[]}];function Fe(e,t){var a=t.find((function(e){return e.max_width>window.innerWidth})).cols;return e.filter((function(e){return!a.includes(e.arrayKey)}))}var Te=function(e){var t=e.season_stats,a=e.web_name;if(!t)return null;var s={};s.team_name=t.team_name,s.position={GK:"Goalkeeper",DEF:"Defender",MID:"Midfield",FWD:"Forward"}[t.position],s.price="\xa3".concat(t.price,"m");var n=t.photo.replace("jpg","png"),r=["team_name","position","price"].map((function(e){return Object(se.jsx)("li",{children:t&&s[e]},"".concat(e,"-value"))}));return Object(se.jsxs)("div",{className:"player-info-banner",children:[Object(se.jsxs)("ul",{className:"player-info-list",children:[Object(se.jsx)("li",{className:"player-name-title",children:a},"web_name"),r]}),Object(se.jsx)("div",{className:"player-img-div",children:Object(se.jsx)("img",{src:"https://resources.premierleague.com/premierleague/photos/players/110x140/p".concat(n),alt:a})})]})},Ce=function(e){Object(_e.a)(a,e);var t=Object(de.a)(a);function a(e){var s;Object(ce.a)(this,a);var n=(s=t.call(this,e)).props.match.params.web_name_id;return s.state={web_name_id:n,web_name:n.split("_").slice(0,-1).join("_"),gw_data:void 0,fixtures_dict:void 0,fixtures_data:void 0,season_stats:void 0},s}return Object(oe.a)(a,[{key:"componentDidMount",value:function(){document.title="Fantasy Football Stats | ".concat(this.state.web_name),this.props.fetch_player_season_stats(this.state.web_name_id),this.props.fetch_player_gw_stats(this.state.web_name_id),this.props.fetch_fixture_list()}},{key:"componentDidUpdate",value:function(e,t){e.player_season_stats_data!==this.props.player_season_stats_data&&this.process_player_season_stats(this.props.player_season_stats_data),e.player_gw_stats_data!==this.props.player_gw_stats_data&&this.process_player_gw_stats(this.props.player_gw_stats_data),e.fixture_list_data!==this.props.fixture_list_data&&this.process_fixture_list(this.props.fixture_list_data)}},{key:"process_player_season_stats",value:function(e){var t=this;e&&(e["mins/(G + A)"]=e.goals_scored+e.assists>0?Math.round(e.minutes/(e.goals_scored+e.assists)):"-",e["pts/90min"]=(e.minutes>0?e.total_points/(e.minutes/90):0).toFixed(1),this.setState({season_stats:e},(function(){return t.calc_player_stats_table_values()})))}},{key:"process_player_gw_stats",value:function(e){var t=this;this.setState({gw_data:e.gw_stats},(function(){return t.calc_player_stats_table_values()}))}},{key:"process_fixture_list",value:function(e){var t={};e.forEach((function(e){t[e.game_id]={team_h_name:e.team_h_name,team_a_name:e.team_a_name,team_h_score:e.team_h_score,team_a_score:e.team_a_score}})),this.setState({fixtures_dict:t,fixtures_data:e})}},{key:"calc_player_stats_table_values",value:function(){if(this.state.season_stats&&this.state.gw_data){var e=function(e){var t={};return Ne.forEach((function(a){a.includes("ppm")?t[a]=e[a].toFixed(4):t[a]=e[a]})),t}(this.state.season_stats),t=function(e,t){var a=e.position,s=function(e,t){var a={penalties_saved:{GK:5,DEF:0,MID:0,FWD:0},penalties_missed:{GK:-2,DEF:-2,MID:-2,FWD:-2},bonus:{GK:1,DEF:1,MID:1,FWD:1},yellow_cards:{GK:-1,DEF:-1,MID:-1,FWD:-1},red_cards:{GK:-3,DEF:-3,MID:-3,FWD:-3},goals_scored:{GK:6,DEF:6,MID:5,FWD:4},assists:{GK:3,DEF:3,MID:3,FWD:3},own_goals:{GK:-2,DEF:-2,MID:-2,FWD:-2},total_points:{GK:1,DEF:1,MID:1,FWD:1}},s={};return Object.keys(a).forEach((function(n){s[n]=e[n]*a[n][t]})),s}(e,a);return s.minutes=function(e){return e.map((function(e){return e.minutes})).map((function(e){return e>=60?2:e>0?1:0})).reduce((function(e,t){return e+t}))}(t),s.saves=function(e,t){return t.map((function(t){return"GK"===e?Math.floor(t.saves/3):0})).reduce((function(e,t){return e+t}))}(a,t),s.goals_conceded=function(e,t){return t.map((function(t){return["GK","DEF"].includes(e)?-1*Math.floor(t.goals_conceded/2):0})).reduce((function(e,t){return e+t}))}(a,t),s.clean_sheets=function(e,t){return t.map((function(t){if(1===t.clean_sheets&&t.minutes>=60)switch(e){case"GK":case"DEF":return 4;case"MID":return 1;case"FWD":default:return 0}return 0})).reduce((function(e,t){return e+t}))}(a,t),s.total_points=e.total_points,s}(this.state.season_stats,this.state.gw_data),a=function(e){for(var t={},a=0,s=Object.keys(e);a<s.length;a++){var n=s[a];t[n]=parseInt((100*e[n]/e.total_points).toFixed(0))}return t}(t);this.setState({stats_values:e,pts_contrib:t,pts_contrib_pct:a})}}},{key:"getPlayerResultsTableHeadingsRow",value:function(){var e=this;return Fe(Pe,Ge).map((function(t){return Object(se.jsx)("th",{className:e.state.sortByKey===t.displayName?"heading-cell-sortByKey":"heading-cell-normal",onClick:e.handleHeadingClick,children:t.displayName},t.arrayKey)}))}},{key:"getPlayerResultsTableRow",value:function(e){var t=this.state.fixtures_dict[e.fixture],a=new Date(e.kickoff_time);e.datetime="".concat(a.getDate().toString().padStart(2,"0")," ").concat(De[a.getMonth()]," ").concat(a.getFullYear());var s=this.state.season_stats.team_name;return t.team_h_name===s?(e.opposition=t.team_a_name,e.home_away="H",e.GF=t.team_h_score,e.GA=t.team_a_score):(e.opposition=t.team_h_name,e.home_away="A",e.GF=t.team_a_score,e.GA=t.team_h_score),Fe(Pe,Ge).map((function(t){var a=e[t.arrayKey];return"opposition"===t.arrayKey?a=Object(se.jsx)(o.b,{to:"/teams/".concat(e.opposition.replace(" ","_")),children:e.opposition}):t.arrayKey.includes("transfers_")?a=Math.round(e[t.arrayKey]/1e3):"value"===t.arrayKey&&(a=Math.round(10*e.value)/100),"string"===t.type?Object(se.jsx)("td",{children:a},t.arrayKey):Object(se.jsx)("td",{className:"td-centre-text",children:a},t.arrayKey)}))}},{key:"createPlayerResultsTableRows",value:function(){var e=this;return this.state.gw_data.map((function(t,a){return Object(se.jsx)("tr",{children:e.getPlayerResultsTableRow(t)},a)}))}},{key:"render",value:function(){return Object(se.jsx)("div",{className:"player-info-page-container",children:Object(se.jsx)("div",{className:"player-info-flex-container",children:Object(se.jsxs)("div",{className:"player-info-container",children:[Object(se.jsx)("div",{children:Object(se.jsx)(Te,{season_stats:this.state.season_stats,web_name:this.state.web_name})}),Object(se.jsxs)("div",{className:"stats-tables-container",children:[Object(se.jsx)("div",{className:"player-stats-table-container",children:Object(se.jsx)(xe,{stats_values:this.state.stats_values,pts_contrib:this.state.pts_contrib,pts_contrib_pct:this.state.pts_contrib_pct,season_stats_info_keys:Se,season_stats_keys:Ne,season_stats_table_headings:Ae})}),Object(se.jsxs)("div",{className:"line-charts-container",children:[Object(se.jsx)("span",{className:"line-chart-span",children:Object(se.jsx)(we,{Nma:10,var_name:"Pts ma L",gw_data:this.state.gw_data})}),Object(se.jsx)("span",{className:"line-chart-span",children:Object(se.jsx)(we,{Nma:5,var_name:"Pts ma S",gw_data:this.state.gw_data})})]}),Object(se.jsx)("div",{className:"bar-chart-container",children:Object(se.jsx)(ke,{pts_contrib:this.state.pts_contrib})})]}),Object(se.jsx)("div",{className:"player-results-table-container",children:Object(se.jsxs)("table",{className:"styled-table",children:[Object(se.jsx)("thead",{children:Object(se.jsx)("tr",{children:this.getPlayerResultsTableHeadingsRow()})}),Object(se.jsx)("tbody",{children:this.state.gw_data&&this.state.fixtures_dict&&this.createPlayerResultsTableRows()})]})})]})})})}}]),a}(s.Component),Ee=Object(_.b)((function(e){return{player_season_stats_data:e.player_season_stats_data,player_gw_stats_data:e.player_gw_stats_data,fixture_list_data:e.fixture_list_data}}),(function(e){return{fetch_player_season_stats:function(t){return e(function(e){return function(){var t=Object(z.a)(V.a.mark((function t(a){var s,n,r;return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:A}),s="".concat(Q,"/player_season_stats/").concat(e,"/"),t.prev=2,t.next=5,fetch(s);case 5:return n=t.sent,t.next=8,n.json();case 8:r=t.sent,a({type:P,payload:r}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(2),console.log("Error:",t.t0);case 15:case"end":return t.stop()}}),t,null,[[2,12]])})));return function(e){return t.apply(this,arguments)}}()}(t))},fetch_player_gw_stats:function(t){return e(function(e){return function(){var t=Object(z.a)(V.a.mark((function t(a){var s,n,r;return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:G}),s="".concat(Q,"/player_gw_stats/").concat(e,"/"),t.prev=2,t.next=5,fetch(s);case 5:return n=t.sent,t.next=8,n.json();case 8:r=t.sent,a({type:F,payload:r}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(2),console.log("Error:",t.t0);case 15:case"end":return t.stop()}}),t,null,[[2,12]])})));return function(e){return t.apply(this,arguments)}}()}(t))},fetch_fixture_list:function(){return e(function(){var e=Object(z.a)(V.a.mark((function e(t){var a,s,n;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:y}),a="".concat(Q,"/fixture_list/"),e.prev=2,e.next=5,fetch(a);case 5:return s=e.sent,e.next=8,s.json();case 8:n=e.sent,t({type:b,payload:n}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),console.log("Error:",e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}())}}}))(Ce);a(188);function Ke(){var e=window.innerWidth,t=[{max_width:650,cols:["GF_ma_S","GA_ma_S","difficulty_GF","difficulty_GA"]},{max_width:775,cols:["GF_ma_S","GA_ma_S"]},{max_width:99999,cols:[]}].find((function(t){return t.max_width>e})).cols;return["team_name","P","W","D","L","GF","GA","GD","Pts","CS","GF_ma_S","GF_ma_L","difficulty_GF","GA_ma_S","GA_ma_L","difficulty_GA"].filter((function(e){return!t.includes(e)}))}var Le=function(e){var t=Object(s.useState)(),a=Object(c.a)(t,2),n=a[0],r=a[1];document.title="Fantasy Football Stats | Premier League Table";var i=Ke();Object(s.useEffect)((function(){if(e.teams_stats){for(var t=he(e.teams_stats,"team_name",!0),a=0,s=["GF","GD","Pts"];a<s.length;a++){t=he(t,s[a],!1)}r(t)}}),[e]);return Object(se.jsx)("div",{className:"teams-stats-table-container",children:Object(se.jsxs)("table",{className:"styled-table",children:[Object(se.jsx)("thead",{children:function(){var e={team_name:"team",GF_ma_S:"ma(GF,S)",GF_ma_L:"ma(GF,L)",GA_ma_S:"ma(GA,S)",GA_ma_L:"ma(GA,L)"},t=i.map((function(t){var a=t;return t in e&&(a=e[t]),Object(se.jsx)("th",{children:a.replace(/_/g," ")},t)}));return Object(se.jsx)("tr",{children:t})}()}),Object(se.jsx)("tbody",{children:n&&n.map((function(e){return function(e){var t=Ke().map((function(t){var a=e[t];return"team_name"===t?(a=Object(se.jsx)(o.b,{to:"/teams/".concat(e.team_name.replace(" ","_")),children:e.team_name}),Object(se.jsx)("td",{className:"team-name",children:a},e.team_name)):(["avg_GF","avg_GA","norm_GF","norm_GA"].includes(t)&&(a=e[t].toFixed(1)),Object(se.jsx)("td",{children:a},t))}));return Object(se.jsx)("tr",{children:t},e.team_name)}(e)}))})]})})},qe=(a(189),["Date","GW","Team","H/A","GF","GA"]),Re=["datetime","gw","team_name","home_away","GF","GA"],Ie=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Me=function(e){var t=e.fixture_list;return Object(se.jsx)("div",{className:"fixture-list-container",children:Object(se.jsxs)("table",{className:"styled-table",children:[Object(se.jsx)("thead",{children:function(){var e=qe.map((function(e){return Object(se.jsx)("th",{children:e},e)}));return Object(se.jsx)("tr",{children:e})}()}),Object(se.jsx)("tbody",{children:t&&t.map((function(e){var t=Re.map((function(t){var a=e[t];if("datetime"===t){var s=new Date(e.datetime);a="".concat(s.getDate().toString().padStart(2,"0")," ").concat(Ie[s.getMonth()]," ").concat(s.getFullYear())}else"team_name"===t?a=Object(se.jsx)(o.b,{to:"/teams/".concat(e.team_name.replace(" ","_")),children:e.team_name}):"home_away"===t&&(a=e.home_away.toUpperCase());return Object(se.jsx)("td",{children:a},t)}));return Object(se.jsx)("tr",{children:t},e.game_id)}))})]})})},We=Object(l.g)((function(e){var t=Object(s.useState)(),a=Object(c.a)(t,2),n=a[0],r=a[1],i=Object(s.useState)(),o=Object(c.a)(i,2),l=o[0],d=o[1],u=Object(_.d)((function(e){return e.team_fixture_list})),p=Object(_.c)();Object(s.useEffect)((function(){var t=e.match.params.team_name;document.title="Fantasy Football Stats | ".concat(t.replace("_"," ")," Fixtures"),t&&(r(t),p(function(e){return function(){var t=Object(z.a)(V.a.mark((function t(a){var s,n,r;return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:O}),s="".concat(Q,"/team_fixture_lists/").concat(e),t.prev=2,t.next=5,fetch(s);case 5:return n=t.sent,t.next=8,n.json();case 8:r=t.sent,a({type:w,payload:r}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(2),console.log("Error:",t.t0);case 15:case"end":return t.stop()}}),t,null,[[2,12]])})));return function(e){return t.apply(this,arguments)}}()}(t)))}),[p,e.match.params.team_name]),Object(s.useEffect)((function(){if(e.team_ids&&n){var t=e.team_ids.find((function(e){return e.name===n.replace("_"," ")}));t&&d(t.code)}}),[n,e.team_ids]);return Object(se.jsxs)("div",{className:"teams-container",children:[Object(se.jsxs)("h3",{children:[l&&Object(se.jsx)("img",{src:"https://resources.premierleague.com/premierleague/badges/50/t".concat(l,".png"),alt:n}),n&&n.replace("_"," ")," fixtures"]}),u?window.innerWidth>700?Object(se.jsxs)("div",{className:"fixture-tables-container",children:[Object(se.jsx)(Me,{fixture_list:u.slice(0,19)}),Object(se.jsx)(Me,{fixture_list:u.slice(19,u.length)})]}):Object(se.jsx)("div",{className:"fixture-tables-container",children:Object(se.jsx)(Me,{fixture_list:u})}):null]})})),Be=function(e){Object(_e.a)(a,e);var t=Object(de.a)(a);function a(e){var s;return Object(ce.a)(this,a),(s=t.call(this,e)).state={team_name:void 0},s}return Object(oe.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.match.params.team_name;void 0!==e&&this.setState({team_name:e.replace("_"," ")}),this.props.fetch_teams_stats()}},{key:"render",value:function(){return Object(se.jsx)("div",{className:"teams-page-container",children:Object(se.jsxs)(l.d,{children:[Object(se.jsx)(l.b,{path:"/teams/:team_name",children:Object(se.jsx)(We,{team_ids:this.props.team_ids})}),Object(se.jsx)(l.b,{path:"/teams",children:Object(se.jsx)(Le,{teams_stats:this.props.teams_stats})})]})})}}]),a}(s.Component),Ue=Object(_.b)((function(e){return{team_ids:e.team_ids_data,teams_stats:e.teams_stats,team_fixture_list:e.team_fixture_list}}),(function(e){return{fetch_teams_stats:function(){return e(function(){var e=Object(z.a)(V.a.mark((function e(t){var a,s,n;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:v}),a="".concat(Q,"/teams_stats/"),e.prev=2,e.next=5,fetch(a);case 5:return s=e.sent,e.next=8,s.json();case 8:n=e.sent,t({type:x,payload:n}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),console.log("Error:",e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}())}}}))(Be);a(190);function He(e){var t=new Set;return e.map((function(e){return t.add(e)})),Object(ie.a)(t).sort((function(e,t){return parseInt(e)<parseInt(t)?-1:parseInt(e)>parseInt(t)?1:0}))}function Je(e){var t,a,s,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.65;return e>=0&&e<=5?(t=Math.round(e/5*255),a=255,s=0):(t=255,a=Math.round(255*(1-(e-5)/5)),s=0),"rgb(".concat(t,", ").concat(a,", ").concat(s,", ").concat(n,")")}var Ye=function(e){Object(_e.a)(a,e);var t=Object(de.a)(a);function a(e){var s;return Object(ce.a)(this,a),(s=t.call(this,e)).state={fixture_list:[],fixtures_dict:{},gws_remaining:[],teams:[],teams_info:[],Nmax_games:0},s}return Object(oe.a)(a,[{key:"componentDidMount",value:function(){document.title="Fantasy Football Stats | Fixtures",this.props.fetch_fixture_difficulty(),this.props.fetch_team_ids()}},{key:"componentDidUpdate",value:function(e,t){this.props.fixture_difficulty_data&&e.fixture_difficulty_data!==this.props.fixture_difficulty_data&&this.process_fixture_difficulty_data(this.props.fixture_difficulty_data),this.props.teams_data&&e.teams_data!==this.props.teams_data&&this.process_teams_data(this.props.teams_data)}},{key:"process_fixture_difficulty_data",value:function(e){var t=He(e.map((function(e){return e.datetime>(new Date).toISOString()&&e.gw})).filter((function(e){return!1!==e}))),a=e.map((function(e){return e.team_h_name})),s=e.map((function(e){return e.team_a_name})),n=He(a.concat(s)),r={};n.forEach((function(e){r[e]={},t.forEach((function(t){return r[e][t]=[]}))}));var i=0;e.forEach((function(e){if(e.datetime>(new Date).toISOString()){var t={};t.team=e.team_h_name,t.opponent=e.team_a_name,t.difficulty_defence=e.difficulty_GF_A,t.difficulty_attack=e.difficulty_GA_A,t.difficulty_defence_color=Je(e.difficulty_GF_A),t.difficulty_attack_color=Je(e.difficulty_GA_A),t.game_id=e.game_id,t.home_away="H";var a={};a.team=e.team_a_name,a.opponent=e.team_h_name,a.difficulty_defence=e.difficulty_GF_H,a.difficulty_attack=e.difficulty_GA_H,a.difficulty_defence_color=Je(e.difficulty_GF_H),a.difficulty_attack_color=Je(e.difficulty_GA_H),a.home_away="A",a.game_id=e.game_id,r[e.team_h_name][e.gw].push(t),r[e.team_a_name][e.gw].push(a),i=Math.max(i,r[e.team_h_name][e.gw].length,r[e.team_a_name][e.gw].length)}})),this.setState({fixture_list:e,fixtures_dict:r,gws_remaining:t.slice(0,10),teams:n,Nmax_games:i})}},{key:"process_teams_data",value:function(e){var t={};e.forEach((function(e){t[e.name]=e.short_name})),this.setState({teams_info:e,short_team_name_lookup:t})}},{key:"getGameJSX",value:function(e,t,a,s,n,r){return Object(se.jsx)("div",{className:"table-cell-div",style:{backgroundColor:"".concat(n),height:"".concat(r,"px")},children:Object(se.jsxs)("div",{className:"table-cell-inner-div",children:[Object(se.jsx)("span",{className:"short_team_name",children:t}),Object(se.jsxs)("span",{className:"game_suffix",children:[" ",a]}),Object(se.jsxs)("span",{className:"game_suffix",children:[" ",s]})]})},e)}},{key:"getTableRows",value:function(e){var t=this;return this.state.teams.map((function(a){var s=t.state.gws_remaining.map((function(s){var n,r,i,c,o,l,_,d=1===t.state.Nmax_games?32:25*t.state.Nmax_games;if(void 0===t.state.short_team_name_lookup)n=0,r="error",i="",o="",c="black",l=d,_=t.getGameJSX(n,r,i,o,c,l);else if(0===t.state.fixtures_dict[a][s].length)n=0,r="-",i="",o="",c="lightgrey",l=d,_=t.getGameJSX(n,r,i,o,c,l);else if(t.state.fixtures_dict[a][s].length>=1){var u=t.state.fixtures_dict[a][s].length;_=[];for(var p=0;p<u;p++){var m=t.state.fixtures_dict[a][s][p];n=p,r=t.state.short_team_name_lookup[m.opponent],i="(".concat(m.home_away,")"),o=m["difficulty_".concat(e)],c=m["difficulty_".concat(e,"_color")],l=Math.round(d/u);var h=t.getGameJSX(n,r,i,o,c,l);_.push(h)}}return Object(se.jsx)("td",{style:{backgroundColor:"white"},children:_},s)}));return s.unshift(Object(se.jsx)("td",{className:"team_column",children:Object(se.jsx)(o.b,{to:"/teams/".concat(a.replace(" ","_")),children:a})},a)),Object(se.jsx)("tr",{children:s},a)}))}},{key:"create_fixtures_table",value:function(e){return Object(se.jsxs)("table",{className:"styled-table",children:[Object(se.jsx)("thead",{children:Object(se.jsxs)("tr",{children:[Object(se.jsx)("th",{children:"Team"},"team"),this.state.fixture_list.length>0&&this.state.gws_remaining.map((function(e){return Object(se.jsxs)("th",{children:["GW",e]},e)}))]},"headings_row")}),Object(se.jsx)("tbody",{children:this.state.fixture_list.length>0&&this.getTableRows(e)})]})}},{key:"render",value:function(){return this.state.fixture_list.length>0?Object(se.jsxs)("div",{className:"fixtures_tables_container",children:[Object(se.jsxs)("div",{className:"fixtures_table",children:[Object(se.jsx)("h3",{children:"Fixtures for Midfielders & Forwards"}),this.create_fixtures_table("attack")]}),Object(se.jsxs)("div",{className:"fixtures_table",children:[Object(se.jsx)("h3",{children:"Fixtures for Goalkeepers & Defenders"}),this.create_fixtures_table("defence")]})]}):Object(se.jsx)("div",{className:"fixtures_tables_container",children:Object(se.jsx)("div",{className:"fixtures_table no_fixtures_remaining",children:Object(se.jsx)("h3",{children:"There are no fixtures left this season."})})})}}]),a}(s.Component),Xe=Object(_.b)((function(e){return{fixture_difficulty_data:e.fixture_difficulty_data,teams_data:e.team_ids_data}}),(function(e){return{fetch_fixture_difficulty:function(){return e(function(){var e=Object(z.a)(V.a.mark((function e(t){var a,s,n;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:h}),a="".concat(Q,"/fixture_difficulty/"),e.prev=2,e.next=5,fetch(a);case 5:return s=e.sent,e.next=8,s.json();case 8:n=e.sent,t({type:f,payload:n}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),console.log("Error:",e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}())},fetch_team_ids:function(){return e(Z())}}}))(Ye);var Ve=function(){return Object(se.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px"},className:"container",children:Object(se.jsx)("h3",{children:"Error 404: File Not Found."})})},ze=a(42);a(191);var Qe=function(e){var t=e.curr_gw,a=e.league_id,s=e.manager_ids,n=e.league_table_dict,r=e.league_name;return document.title="Fantasy Football Stats | ".concat(r," League Table"),Object(se.jsxs)("div",{className:"league-table-container",children:[Object(se.jsx)("h3",{children:r}),Object(se.jsxs)("table",{className:"styled-table",children:[Object(se.jsx)("thead",{children:function(){var e=(window.innerWidth<420?["Team","Prev pts","Deducted","Curr pts","Sub","Total"]:window.innerWidth<550?["Rank","Team","Prev pts","Deducted","Curr pts","Sub","Total"]:["Rank","Team","Manager","Prev pts","Pts deducted","Curr pts","Sub pts","Total pts"]).map((function(e){var a=e;return"Prev pts"===e?a="GW ".concat(t&&t-1):"Curr pts"===e&&(a="GW ".concat(t&&t)),Object(se.jsx)("th",{children:a},e)}));return Object(se.jsx)("tr",{children:e})}()}),Object(se.jsx)("tbody",{children:function(){var e=window.innerWidth<420?["Team","Prev pts","Pts deducted","Curr pts","Sub pts","Total pts"]:window.innerWidth<550?["Rank","Team","Prev pts","Pts deducted","Curr pts","Sub pts","Total pts"]:["Rank","Team","Manager","Prev pts","Pts deducted","Curr pts","Sub pts","Total pts"],t=e.includes("Rank")?2:1;return s.map((function(r,i){return Object(se.jsxs)("tr",{children:[e.includes("Rank")?Object(se.jsx)("td",{children:s.length>1?i+1:""},"rank"):null,Object(se.jsx)("td",{children:Object(se.jsx)(o.b,{to:"/leagues/".concat(a,"/").concat(r,"/"),children:n&&n[r].team.replace(/[\W]+/g," ")})},"team"),e.slice(t).map((function(e){var t=e.toLowerCase().replace(" ","_"),a=n&&n[r][t];return Object(se.jsx)("td",{children:a},t)}))]},r)}))}()})]})]})},Ze=(a(192),"lightgreen"),$e=[{key:"web_name",heading_text:"Player"},{key:"team_name",heading_text:"Team"},{key:"curr_gw_game",heading_text:"Games"},{key:"position",heading_text:"Position"},{key:"captain",heading_text:"Captain"},{key:"on_bench",heading_text:"Sub"}],et=[{key:"total_points",heading_text:"Points"},{key:"minutes",heading_text:"Mins"},{key:"goals_scored",heading_text:"G"},{key:"assists",heading_text:"A"},{key:"goals_conceded",heading_text:"GC"},{key:"clean_sheets",heading_text:"CS"},{key:"bonus",heading_text:"Bonus"},{key:"yellow_cards",heading_text:"YC"},{key:"red_cards",heading_text:"RC"},{key:"saves",heading_text:"Saves"},{key:"penalties_saved",heading_text:"Pens saved"},{key:"penalties_missed",heading_text:"Pens missed"},{key:"own_goals",heading_text:"OG"}],tt=$e.map((function(e){return e.heading_text})),at=$e.map((function(e){return e.key})),st=et.map((function(e){return e.heading_text})),nt=et.map((function(e){return e.key})),rt=function(e){Object(_e.a)(a,e);var t=Object(de.a)(a);function a(e){var s;return Object(ce.a)(this,a),(s=t.call(this,e)).get_table_headings_row=function(){var e=tt.map((function(e){return Object(se.jsx)("th",{children:e},e)})),t=st.map((function(e){return Object(se.jsx)("th",{children:e},e)}));return Object(se.jsx)("tr",{children:e.concat(t)},"headings")},s.get_table_row_dict=function(e){var t={};at.forEach((function(a){var n=e[a];t.player_id=e.player_id,"captain"===a?e.captain?n="3xc"===s.state.team_info.chip_status?"3xC":"C":e.vice_captain&&(n="3xc"===s.state.team_info.chip_status?"3xV":"V"):"curr_gw_game"===a?n=e.curr_gw_game.map((function(e){var t={};return t.datetime=e.datetime,t.opposition=e.opposition,t.game_status=e.game_status,t})):"on_bench"===a&&(n=e.on_bench?"Sub":""),t[a]=n}));var a=s.state.squad_dict.captain_status;return nt.forEach((function(s){var n=e.stats[s];"total_points"===s&&(e.captain&&["2xC","3xC"].includes(a)?n="2xC"===a?2*n:"3xC"===a?3*n:n:e.vice_captain&&["2xV","3xV"].includes(a)&&(n="3xV"===a?3*n:"2xV"===a?2*n:n)),t[s]=n})),t},s.create_table_row=function(e,t){var a=at.concat(nt).map((function(t){var a=e[t];if("web_name"===t){var s="".concat(e.web_name.replace(" ","_"),"_").concat(e.player_id);a=Object(se.jsx)(o.b,{to:"/players/".concat(s),children:e.web_name})}else if("team_name"===t){var n=e.team_name.replace(" ","_");a=Object(se.jsx)(o.b,{to:"/teams/".concat(n),children:e.team_name})}else"curr_gw_game"===t&&(a=e.curr_gw_game.map((function(t){var a;return a="not_started"===t.game_status?"curr_gw_game_not_started":"in_progress"===t.game_status?"curr_gw_game_in_progress":"curr_gw_game_finished",Object(se.jsx)("div",{className:a,children:t.opposition},"".concat(e.player_id,"|").concat(t.game_id))})));switch(t){case"web_name":case"team_name":return Object(se.jsx)("td",{style:{textAlign:"left"},children:a},t);case"curr_gw_game":return Object(se.jsx)("td",{style:{padding:"0px",margin:"0px"},children:a},t);default:return Object(se.jsx)("td",{children:a},t)}}));return t?Object(se.jsx)("tr",{style:{backgroundColor:t},children:a},e.player_id):Object(se.jsx)("tr",{children:a},e.player_id)},s.create_totals_row=function(e,t){var a=at.concat(nt).map((function(t){return"web_name"===t?Object(se.jsx)("td",{style:{textAlign:"left"},children:e[t]},t):Object(se.jsx)("td",{children:e[t]},t)}));return Object(se.jsx)("tr",{style:{backgroundColor:t},children:a},"totals")},s.state={curr_gw:void 0,league_id:void 0,manager_id:void 0,squad_dict:void 0,team_info:void 0,teams_lookup:void 0},s}return Object(oe.a)(a,[{key:"componentDidMount",value:function(){this.setState({manager_id:this.props.match.params.manager_id,league_id:this.props.match.params.league_id,manager_id_as_array:[this.props.match.params.manager_id]})}},{key:"componentDidUpdate",value:function(e,t){if(this.state.manager_id&&(this.props.curr_gw&&t.curr_gw!==this.props.curr_gw&&this.setState({curr_gw:this.props.curr_gw}),this.state.manager_id&&this.props.squads_dict&&t.squads_dict!==this.props.squads_dict&&this.setState({squads_dict:this.props.squads_dict,squad_dict:this.props.squads_dict[this.state.manager_id]}),this.state.manager_id&&this.props.league_table_dict&&t.league_table_dict!==this.props.league_table_dict)){var a=this.props.league_table_dict[this.state.manager_id];document.title="Fantasy Football Stats | ".concat(a.team," Squad"),this.setState({team_info:a,league_table_dict:this.props.league_table_dict})}}},{key:"captainDidNotPlay",value:function(e){var t,a=Object(ze.a)(e);try{for(a.s();!(t=a.n()).done;){var s=t.value;if(!0===s.captain)return!1===s.did_play}}catch(n){a.e(n)}finally{a.f()}}},{key:"calc_stats_totals",value:function(e){var t={web_name:"Total"};return nt.forEach((function(e){return t[e]=0})),e.forEach((function(e){nt.forEach((function(a){return t[a]+=e[a]}))})),t}},{key:"get_table_rows",value:function(){var e=this,t=this.state.squad_dict,a=t.squad.map((function(e){return e.player_id})),s=t.final_firstXI.map((function(e){return e.player_id})),n=a.filter((function(e){return!s.includes(e)})),r={};t.squad.forEach((function(e){return r[e.player_id]=e}));var i,c=s.map((function(t){return e.get_table_row_dict(r[t])})),o=n.map((function(t){return e.get_table_row_dict(r[t])})),l=this.calc_stats_totals(c),_=this.calc_stats_totals(o),d=c.map((function(t){return e.create_table_row(t)})),u=o.map((function(t){return e.create_table_row(t,"#dbe4f0")}));if("bboost"===this.state.team_info.chip_status){var p={};Object.keys(l).forEach((function(e){return p[e]=l[e]+_[e]})),p.web_name="Total",i=this.create_totals_row(p,Ze)}else i=this.create_totals_row(l,Ze);return d.concat(u).concat(i)}},{key:"render",value:function(){return Object(se.jsxs)("div",{className:"squad-container",children:[Object(se.jsxs)("div",{className:"title-container",children:[Object(se.jsx)("span",{className:"title-text",children:Object(se.jsx)(o.b,{to:"/leagues/".concat(this.props.league_id),children:this.props.league_name})}),Object(se.jsxs)("span",{className:"title-text",children:["\xa0>\xa0",this.state.team_info&&this.state.team_info.team]})]}),Object(se.jsx)("div",{className:"league-table-container",children:this.state.squad_dict&&Object(se.jsx)(Qe,{curr_gw:this.state.curr_gw,league_id:this.state.league_id,manager_ids:this.state.manager_id_as_array,league_table_dict:this.state.league_table_dict,league_name:""})}),Object(se.jsx)("div",{className:"squad-table-container",children:this.state.squad_dict?Object(se.jsxs)("table",{className:"styled-table",children:[Object(se.jsx)("thead",{children:this.get_table_headings_row()}),Object(se.jsx)("tbody",{children:this.get_table_rows()})]}):Object(se.jsx)("h3",{children:"There are no fixtures left this season."})})]})}}]),a}(s.Component),it=Object(l.g)(rt);function ct(e){var t=e,a=(new Date).toISOString(),s=t.split("T"),n=s[1].split(":"),r=Object(ie.a)(n);r[0]=(parseInt(r[0])+2).toString();var i=r.join(":"),c=[s[0],i].join("T");return a>c?"finished":a>t&&a<c?"in_progress":"not_started"}var ot=function(e){Object(_e.a)(a,e);var t=Object(de.a)(a);function a(e){var s;return Object(ce.a)(this,a),(s=t.call(this,e)).state={manager_ids:[],league_name:"",league_id:void 0,league_info:void 0,league_table_dict:void 0,league_squads_dict:void 0,live_data_dict:void 0,path:void 0},s}return Object(oe.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.curr_gw||this.props.loading_curr_gw||this.props.fetch_curr_gw(),this.setState({league_id:this.props.match.params.league_id,path:this.props.match.url},(function(){e.props.league_info_data||e.props.loading_league_info||e.props.fetch_league_info(e.state.league_id)}))}},{key:"componentDidUpdate",value:function(e,t){var a=this;if(this.props.curr_gw&&t.curr_gw!==this.props.curr_gw){var s=this.props.curr_gw;this.props.loading_live_data||this.props.fetch_live_data(s),this.props.squads_for_league_id_data||this.props.loading_squads_for_league_id||this.props.fetch_squads_for_league_id(this.state.league_id,s),this.setState({curr_gw:s})}if(this.props.league_info_data&&t.league_info!==this.props.league_info_data&&this.setState({league_info:this.props.league_info_data,manager_ids:this.props.league_info_data.manager_ids,league_name:this.props.league_info_data.name},(function(){var e=a.create_league_table_dict(a.props.league_info_data);e&&a.setState({league_table_dict:e})})),this.props.live_data&&e.live_data!==this.props.live_data){var n=function(e,t){var a={};return e.forEach((function(e){return a[e[t]]=e})),a}(this.props.live_data.elements,"id");this.setState({live_data_dict:n},(function(){a.calculate_league_table_dict(a.state.league_table_dict,a.state.live_data_dict,a.state.squads_for_league_id)}))}this.props.squads_for_league_id_data&&t.squads_for_league_id!==this.props.squads_for_league_id_data&&this.setState({squads_for_league_id:this.props.squads_for_league_id_data},(function(){a.calculate_league_table_dict(a.state.league_table_dict,a.state.live_data_dict,a.state.squads_for_league_id)}))}},{key:"calculate_league_table_dict",value:function(e,t,a){var s=this,n=this.create_league_squads_dict(e,t,a);n&&this.setState({league_squads_dict:n},(function(){var a=s.calcSubstitutesPoints(e,n);s.setState({league_table_dict:a.league_table_dict,league_squads_dict:a.league_squads_dict},(function(){var e=s.calcTotalPoints(s.state.manager_ids,s.state.league_table_dict,n,t),a=s.sort_manager_ids_by_total_pts(e);e&&s.setState({league_table_dict:e,manager_ids:a})}))}))}},{key:"captainDidNotPlay",value:function(e){var t,a=Object(ze.a)(e);try{for(a.s();!(t=a.n()).done;){var s=t.value;if(!0===s.captain)return!1===s.did_play}}catch(n){a.e(n)}finally{a.f()}}},{key:"create_league_table_dict",value:function(e){if(e){var t={rank:null,team:"",manager:"",prev_pts:null,curr_pts:null,pts_deducted:null,sub_pts:null,total_pts:null,chip_status:null},a={};return e.managers_curr_gw_info.forEach((function(e){var s=e.manager_id,n=Object(u.a)(Object(u.a)({},t),{},{team:e.team_name.replace(/[^ -~]+/g,""),manager:e.manager_name,last_rank:e.last_rank,rank:e.rank,pts_deducted:e.points_deducted,prev_pts:e.prev_gw_points,chip_status:e.chip_status});a[s]=n})),a}}},{key:"create_league_squads_dict",value:function(e,t,a){if(e&&t&&a&&0!==Object.keys(t).length){var s=a;Object.keys(s).forEach((function(e){s[e].squad.curr_gw_game=s[e].squad.forEach((function(t,a){var n=Object(u.a)({},t);n.curr_gw_game=t.curr_gw_game.map((function(e){var a=Object(u.a)({},e);return a.game_status=ct(e.datetime),e.team_a_name===t.team_name?a.opposition=e.team_h_name:a.opposition=e.team_a_name,a})),s[e].squad[a]=Object(u.a)({},n)}))}));for(var n={},r=function(){var a=c[i],r=Object(u.a)({},s[a]);r.squad.forEach((function(e,a){r.squad[a]=Object(u.a)({},e),r.squad[a].stats=t[e.player_id].stats,r.squad[a].explain=t[e.player_id].explain})),r.squad.forEach((function(t){!0===t.captain&&(r.captain_status="3xc"===e[a].chip_status?"3xC":"2xC",t.curr_gw_game.every((function(e){return"finished"===e.game_status}))?(r.captain_did_not_play=0===t.stats.minutes,r.captain_did_not_play&&(r.captain_status="3xc"===e[a].chip_status?"3xV":"2xV")):r.captain_did_not_play=void 0)})),n[a]=r},i=0,c=Object.keys(s);i<c.length;i++)r();return n}}},{key:"calcTotalPoints",value:function(e,t,a,s){if([e,t,a,s].every((function(e){return e})))return e.forEach((function(e){var n=0,r=a[e].chip_status;t[e].pts_deducted=-1*a[e].points_deducted,a[e].squad.forEach((function(t){var i=t.player_id,c=s[i].stats.total_points;!0===t.captain&&!0!==a[e].captain_did_not_play||!0===t.vice_captain&&a[e].captain_did_not_play?c="3xc"===r?3*c:2*c:!0===t.on_bench&&"bboost"!==r&&(c=0),n+=c})),t[e].curr_pts=n,t[e].total_pts=t[e].prev_pts+n+t[e].sub_pts+t[e].pts_deducted})),t}},{key:"add_did_play_property_to_squads",value:function(e){for(var t in e)for(var a=function(a){var s=Object(u.a)({},e[t].squad[a]),n=s.curr_gw_game.map((function(e){return 0===Object.keys(e).length||"finished"===ct(e.datetime)&&0===s.stats.minutes}));n.every((function(e){return!0===e}))&&n.length===s.curr_gw_game.length||n===[]?s.did_play=!1:s.stats.minutes>0?s.did_play=!0:s.did_play=void 0,e[t].squad[a]=s},s=0;s<e[t].squad.length;s++)a(s);return e}},{key:"calcSubstitutesPoints",value:function(e,t){function a(e){var t={GK:0,DEF:0,MID:0,FWD:0};return e.forEach((function(e){return t[e.position]++})),1===t.GK&&t.DEF>=3&&t.FWD>=1}t=this.add_did_play_property_to_squads(t);var s=function(s){var n=t[s].squad.filter((function(e){return!1===e.on_bench})),r=t[s].squad.filter((function(e){return!0===e.on_bench})),i=new Set;n.forEach((function(e){return i.add(e.player_id)}));for(var c=0,o=0;o<n.length;o++)if(!1===n[o].did_play)for(var l=0;l<r.length;l++)if(!0===r[l].did_play){var _=Object(ie.a)(n);if(!0===n[o].on_bench)continue;if(i.has(r[l].player_id))continue;_[o]=r[l],a(_)&&(n=Object(ie.a)(_),i.clear(),n.forEach((function(e){return i.add(e.player_id)})),c+=r[l].stats.total_points)}e[s].sub_pts=c,t[s].final_firstXI=n};for(var n in t)s(n);return{league_table_dict:e,league_squads_dict:t}}},{key:"sort_manager_ids_by_total_pts",value:function(e){for(var t=[],a=0,s=Object.keys(e);a<s.length;a++){var n=s[a],r={};r.manager_id=n,r.total_points=e[n].total_pts,t.push(r)}return(t=he(t,"total_points",!1)).map((function(e){return e.manager_id}))}},{key:"render",value:function(){return Object(se.jsx)("div",{className:"page-container",children:Object(se.jsxs)(l.d,{children:[Object(se.jsx)(l.b,{exact:!0,path:"/leagues/:league_id",children:Object(se.jsx)(Qe,{curr_gw:this.state.curr_gw,league_id:this.state.league_id,manager_ids:this.state.manager_ids,league_table_dict:this.state.league_table_dict,league_name:this.state.league_name})}),Object(se.jsx)(l.b,{path:"/leagues/:league_id/:manager_id",children:Object(se.jsx)(it,{curr_gw:this.state.curr_gw,league_id:this.state.league_id,league_name:this.state.league_name,squads_dict:this.state.league_squads_dict,league_table_dict:this.state.league_table_dict,teams:this.props.teams})})]})})}}]),a}(s.Component),lt=Object(_.b)((function(e){return{loading_league_info:e.loading_league_info,league_info_data:e.league_info_data,loading_live_data:e.loading_live_data,live_data:e.live_data,loading_squads_for_league_id:e.loading_squads_for_league_id,squads_for_league_id_data:e.squads_for_league_id_data,loading_curr_gw:e.loading_curr_gw,curr_gw:e.curr_gw,teams:e.team_ids_data}}),(function(e){return{fetch_league_info:function(t){return e(function(e){return function(){var t=Object(z.a)(V.a.mark((function t(a){var s,n,r;return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:T}),s="".concat(Q,"/leagues/").concat(e,"/"),t.prev=2,t.next=5,fetch(s);case 5:return n=t.sent,t.next=8,n.json();case 8:r=t.sent,a({type:C,payload:r}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(2),console.log("Error:",t.t0);case 15:case"end":return t.stop()}}),t,null,[[2,12]])})));return function(e){return t.apply(this,arguments)}}()}(t))},fetch_live_data:function(t){return e(function(e){return function(){var t=Object(z.a)(V.a.mark((function t(a){var s,n,r;return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:L}),s="".concat(Q,"/live_data/").concat(e,"/"),t.prev=2,t.next=5,fetch(s);case 5:return n=t.sent,t.next=8,n.json();case 8:r=t.sent,a({type:q,payload:r}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(2),console.log("Error:",t.t0);case 15:case"end":return t.stop()}}),t,null,[[2,12]])})));return function(e){return t.apply(this,arguments)}}()}(t))},fetch_squads_for_league_id:function(t,a){return e(function(e,t){return function(){var a=Object(z.a)(V.a.mark((function a(s){var n,r,i;return V.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s({type:R}),n="".concat(Q,"/squads_for_league_id/").concat(e,"/").concat(t),console.log("fetch_squads_for_league_id > url",n),a.prev=3,a.next=6,fetch(n);case 6:return r=a.sent,a.next=9,r.json();case 9:i=a.sent,s({type:I,payload:i}),a.next=16;break;case 13:a.prev=13,a.t0=a.catch(3),console.log("Error:",a.t0);case 16:case"end":return a.stop()}}),a,null,[[3,13]])})));return function(e){return a.apply(this,arguments)}}()}(t,a))},fetch_curr_gw:function(){return e($())}}}))(ot),_t=(a(193),{A:"Assists",Bonus:"Bonus points",CS:"Clean sheets",D:"Games drawn",difficulty:"Difficulty of forthcoming games, calculated separately for attackers and defenders","difficulty GF":"Calculated difficulty to play against for a team's attackers. 0 = easy, 10 = hard","difficulty GA":"Calculated difficulty to play against for a team's defenders. 0 = easy, 10 = hard","form mins":"Recent form of minutes played","form pts":"Recent form of Points",G:"Goals",GA:"Goals against",GC:"Goals conceded",GF:"Goals for",GW:"Game week",L:"Games lost","ma(Pts,L)":"Long (10 weeks) moving average of Points","ma(Pts,S)":"Short (5 weeks) moving average of Points","ma(GA,L)":"Long (10 weeks) moving average of Goals Against","ma(GA,S)":"Short (5 weeks) moving average of Goals Against","ma(GF,L)":"Long (10 weeks) moving average of Goals For","ma(GF,S)":"Short (5 weeks) moving average of Goals For",mins:"Minutes played","mins/(G+A)":"Average number of minutes players per goal or assist",OG:"Own goals",P:"Games played","Pens missed":"Penalties missed","Pens saved":"Penalties saved",Price:"Price \xa3m",Pts:"Points","Pts deducted":"Points deducted e.g. for buying more players than your quota for the week","pts/90min":"Average points per 90 minutes played",RC:"Red cards","Sub pts":"Points gained by substitutes","Total pts":"Total points for the season","Transfers (k)":"Net transfers for a game week = transfers in - transfers out (000s)",W:"Games won",YC:"Yellow cards"}),dt=function(){document.title="Fantasy Football Stats | Glossary";return Object(se.jsxs)("div",{className:"glossary-container",children:[Object(se.jsx)("h3",{children:"Glossary"}),Object(se.jsx)("div",{className:"terms-table-container",children:Object(se.jsxs)("table",{className:"styled-table",children:[Object(se.jsx)("thead",{children:Object(se.jsxs)("tr",{children:[Object(se.jsx)("th",{children:"Term"}),Object(se.jsx)("th",{children:"Description"})]})}),Object(se.jsx)("tbody",{children:Object.keys(_t).map((function(e){return Object(se.jsxs)("tr",{children:[Object(se.jsx)("td",{className:"term-column",children:e},"".concat(e,"-term")),Object(se.jsx)("td",{className:"description-column",children:_t[e]},"".concat(e,"-descrptn"))]},e)}))})]})})]})},ut=function(){var e={data:{labels:["Jan","Feb","Mar","Apr","May","Jun","Jul"],datasets:[{label:"My First Dataset",data:[65,59,80,81,56,55,40],backgroundColor:["rgba(255, 99, 132, 0.6)","rgba(255, 159, 64, 0.6)","rgba(255, 205, 86, 0.6)","rgba(75, 192, 192, 0.6)","rgba(54, 162, 235, 0.6)","rgba(153, 102, 255, 0.6)","rgba(201, 203, 207, 0.6)"],borderColor:["rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(54, 162, 235)","rgb(153, 102, 255)","rgb(201, 203, 207)"],borderWidth:1}]},options:{maintainAspectRatio:!1}};return Object(se.jsxs)("div",{children:[Object(se.jsx)("h3",{children:"Test works!"}),Object(se.jsxs)("div",{children:[Object(se.jsx)(Oe.Pie,{data:e.data,width:300,height:300,redraw:!1,options:e.options}),Object(se.jsx)(te.a,{style:{color:"red",fontSize:"40px"},icon:ae.a})]})]})};a(194);Y.dispatch($()),Y.dispatch(Z());var pt=function(){var e=Object(s.useState)(),t=Object(c.a)(e,2),a=t[0],n=t[1];Object(s.useEffect)((function(){return window.addEventListener("resize",fe(r,250)),function(){return window.removeEventListener("resize",fe(r,250))}}),[]);var r=function(){return n(window.innerWidth)};return Object(s.useEffect)((function(){return console.log("window_width",a)}),[a]),Object(se.jsx)(_.a,{store:Y,children:Object(se.jsx)("div",{className:"App",children:Object(se.jsxs)(o.a,{children:[Object(se.jsx)(ne,{}),Object(se.jsx)("main",{children:Object(se.jsxs)(l.d,{children:[Object(se.jsx)(l.b,{exact:!0,path:"/",children:Object(se.jsx)(l.a,{to:"/players"})}),Object(se.jsx)(l.b,{path:"/players/:web_name_id",component:Ee}),Object(se.jsx)(l.b,{path:"/players",component:ve}),Object(se.jsx)(l.b,{path:"/teams/:team_name?",component:Ue}),Object(se.jsx)(l.b,{path:"/fixtures",component:Xe}),Object(se.jsx)(l.b,{path:"/leagues/:league_id",component:lt}),Object(se.jsx)(l.b,{path:"/glossary",component:dt}),Object(se.jsx)(l.b,{path:"/test",component:ut}),Object(se.jsx)(l.b,{path:"*",component:Ve})]})}),Object(se.jsx)(re,{})]})})})},mt=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,196)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,r=t.getLCP,i=t.getTTFB;a(e),s(e),n(e),r(e),i(e)}))};i.a.render(Object(se.jsx)(n.a.StrictMode,{children:Object(se.jsx)(pt,{})}),document.getElementById("root")),mt()},79:function(e,t,a){},86:function(e,t,a){},89:function(e,t,a){},90:function(e,t,a){},91:function(e,t,a){},92:function(e,t,a){},93:function(e,t,a){}},[[195,1,2]]]);
//# sourceMappingURL=main.49866a65.chunk.js.map